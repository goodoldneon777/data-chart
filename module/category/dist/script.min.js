if("undefined"==typeof m_category){var m_category={};m_category.watch=function(){"use strict";$("body").on("change",".m-category .category-wrap .watch",function(){var a=$(this);m_category.refresh(a)}),$("body").on("change",".m-category .filter-wrap .watch",function(){var a=$(this);m_category.refreshFilter(a)})},m_category.refresh=function(a){"use strict";var b="",c=a.val(),d=a.closest(".select-wrap").find(" > .elem-expand"),e=m_category.idFirstPartCreate(a);$.ajax({type:"POST",url:gVar.root+"/module/category/dist/category_refresh_ajax.php",data:{name_id:JSON.stringify(c),id_first_part:JSON.stringify(e)},dataType:"json",success:function(b){var c=b.html,e=b.filter_type;d.html(c),m_category.filterAlter(a,e)},error:function(a,c,d){b="Status: "+c+"\nError: "+d,console.log(b)}})},m_category.filterAlter=function(a,b){"use strict";var c=(a.val(),a.closest(".m-category").find(".filter-wrap"));"none"===b?c.addClass("hidden"):c.removeClass("hidden")},m_category.refreshFilter=function(a){"use strict";var b=a.val(),c=a.closest(".filter-wrap");"none"===b&&(c.find(".equal-wrap").addClass("hidden"),c.find(".min-wrap").addClass("hidden"),c.find(".max-wrap").addClass("hidden")),("="===b||"!="===b)&&(c.find(".equal-wrap").removeClass("hidden"),c.find(".min-wrap").addClass("hidden"),c.find(".max-wrap").addClass("hidden")),(">"===b||">="===b)&&(c.find(".equal-wrap").addClass("hidden"),c.find(".min-wrap").removeClass("hidden"),c.find(".max-wrap").addClass("hidden")),("<"===b||"<="===b)&&(c.find(".equal-wrap").addClass("hidden"),c.find(".min-wrap").addClass("hidden"),c.find(".max-wrap").removeClass("hidden")),"range"===b&&(c.find(".equal-wrap").addClass("hidden"),c.find(".min-wrap").removeClass("hidden"),c.find(".max-wrap").removeClass("hidden"))},m_category.idFirstPartCreate=function(a){"use strict";var b=a.closest(".category-wrap"),c="";return b.find("select").each(function(b){return c+=$(this).find("option:selected").val()+" ",$(this).attr("class")===a.attr("class")?!1:void 0}),c=$.trim(c)},m_category.watch()}